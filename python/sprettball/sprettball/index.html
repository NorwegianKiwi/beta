<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Kodeklubben (server)</title>
    <style type="text/css">.App__container__vvzpy {
  margin-top: 125px; }
.NavBar__flagGroup__3f0i_ {
  display: flex;
  justify-content: flex-end;
  padding: 5px; }

.NavBar__flag__3cn9U {
  width: 30px;
  height: 20px;
  float: right;
  margin-left: 5px; }
.NavLink__linkBase__1m4Sm {
  text-decoration: none !important;
  font-size: 17pt; }

.NavLink__linkStudent__1zq2x {
  color: #265732; }

.NavLink__linkTeacher__25L85 {
  color: #215651; }
.ModeIndicator__modeIndicator__gvKNO {
  font-size: 1.2em;
  margin-top: -15px;
  text-align: right; }
@import url(https://fonts.googleapis.com/css?family=Roboto:100,100italic,300,300italic,400,400italic,500,500italic,700,700italic,900,900italic);@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:100,100italic,300,300italic,400,400italic,500,500italic,700,700italic);.Footer__container__1SZrv {
  margin-top: 100px;
  padding-bottom: 20px;
  font-weight: 300;
  font-size: 15pt;
  font-family: "Roboto", "Verdana", sans-serif; }
  .Footer__container__1SZrv a {
    text-decoration: none; }

.Footer__containerStudent__3Yr5f {
  background-color: #b1daae;
  color: #265732; }
  .Footer__containerStudent__3Yr5f a {
    color: #265732; }

.Footer__containerTeacher__36KZb {
  background-color: #a3cccb;
  color: #215651; }
  .Footer__containerTeacher__36KZb a {
    color: #215651; }

.Footer__center__3xqZ_ {
  text-align: center; }

.Footer__inline__1Q6ds {
  display: inline-block;
  margin: 20px 10px; }

.Footer__svg__29r7H {
  width: 100px;
  height: auto;
  transition: all 0.075s ease-in-out; }

.Footer__img__25Ink {
  margin-left: 20px;
  margin-right: 20px;
  margin-bottom: 20px;
  width: auto;
  height: 50px;
  transition: all 0.075s ease-in-out; }

.Footer__divider__LJrti {
  margin-top: 20px;
  margin-left: auto;
  margin-right: auto;
  border-top: 1px solid;
  width: 50%; }

.Footer__svg__29r7H:hover,
.Footer__img__25Ink:hover {
  transform: scale(1.2); }
</style>
<link href="/beta/vendor2.2ef91518eebdacd7585a.css" rel="stylesheet"></head>
<body>
    <div id="app"><div><div class="App__container__vvzpy" data-reactroot="" data-reactid="1" data-react-checksum="247430757"><div class="container-fluid" data-reactid="2"><div class="row" data-reactid="3"><nav class="navbar navbar-default navbar-fixed-top" data-reactid="4"><div class="container-fluid" data-reactid="5"><div class="btn-language-dropdown pull-right dropdown btn-group" data-reactid="6"><button class="dropdown-toggle btn-language-student btn-language btn btn-default" id="language-dropdown" role="button" aria-haspopup="true" aria-expanded="false" type="button" data-reactid="7"><span data-reactid="8"><!-- react-text: 9 -->Norsk bokmål<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="10"/></span></button><ul class="dropdown-menu" role="menu" aria-labelledby="language-dropdown" data-reactid="11"><li role="presentation" class="" data-reactid="12"><a role="menuitem" href="" tabindex="-1" data-reactid="13"><span data-reactid="14"><!-- react-text: 15 -->Norsk bokmål<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="16"/></span></a></li><li role="presentation" class="" data-reactid="17"><a role="menuitem" href="" tabindex="-1" data-reactid="18"><span data-reactid="19"><!-- react-text: 20 -->Norsk nynorsk<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="21"/></span></a></li><li role="presentation" class="" data-reactid="22"><a role="menuitem" href="" tabindex="-1" data-reactid="23"><span data-reactid="24"><!-- react-text: 25 -->Svenska<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/1d1e495a49bf241ea4fa9bc056c0bffa.svg" data-reactid="26"/></span></a></li><li role="presentation" class="" data-reactid="27"><a role="menuitem" href="" tabindex="-1" data-reactid="28"><span data-reactid="29"><!-- react-text: 30 -->Dansk<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/4492aedc274ad1e87620f7f5a3cc3d71.svg" data-reactid="31"/></span></a></li></ul></div><div class="navbar-header" data-reactid="32"><span class="navbar-brand" data-reactid="33"><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm" href="/" data-reactid="34"><span class="glyphicon glyphicon-home" data-reactid="35"></span></a><span data-reactid="36"><!-- react-text: 37 --> / <!-- /react-text --><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm" href="/python" data-reactid="38">python</a></span><span class="hidden-xs" data-reactid="39"><!-- react-text: 40 --> / <!-- /react-text --><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm active" href="/python/sprettball/sprettball" data-reactid="41">sprettball</a></span></span><button type="button" class="navbar-toggle collapsed" data-reactid="42"><span class="sr-only" data-reactid="43">Toggle navigation</span><span class="icon-bar" data-reactid="44"></span><span class="icon-bar" data-reactid="45"></span><span class="icon-bar" data-reactid="46"></span></button></div><div class="navbar-collapse collapse" data-reactid="47"><div class="navbar-form navbar-right" data-reactid="48"><div class="form-group" data-reactid="49"><input type="text" placeholder="Søk" class="form-control" data-reactid="50"/></div><!-- react-text: 51 --> <!-- /react-text --><div class="btn-toggle" data-reactid="52"><div data-reactid="53">Velg modus:</div><div class="btn-group btn-group" data-reactid="54"><button class="btn-student-nav active btn btn-default" type="button" data-reactid="55">ELEV</button><button class="btn-teacher-nav btn btn-default" type="button" data-reactid="56">LÆRER</button></div></div></div></div></div></nav></div><div class="row" data-reactid="57"><div class="col-xs-12" data-reactid="58"><div class="ModeIndicator__modeIndicator__gvKNO" data-reactid="59"><!-- react-text: 60 -->Du er i <!-- /react-text --><span class="text-student" data-reactid="61">elevmodus</span></div></div></div></div><div data-reactid="62"><h1 data-reactid="63"><!-- react-text: 64 -->PGZ - Sprettball<!-- /react-text --><!-- react-text: 65 --> - Level <!-- /react-text --><!-- react-text: 66 -->4<!-- /react-text --></h1><p data-reactid="67"><i data-reactid="68"><!-- react-text: 69 -->av <!-- /react-text --><!-- react-text: 70 -->Ole Kristian Pedersen, Kodeklubben Trondheim<!-- /react-text --></i></p><div data-reactid="71"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>I denne oppgaven skal du lage en ballanimasjon, ved hjelp av det du har lært i
<a href="../enkle_objekter/enkle_objekter.html">oppgaven om enkle objekter</a>, samt Pygame og Pygame
Zero. Dersom du ikke husker objekter, kan du <a href="../enkle_objekter/enkle_objekter.html">gå
tilbake</a> og raskt repetere.</p>
</section>
<section class="activity" id="steg-1-hoyde-og-bredde">
<h1 class="activity" id="steg-1-hoyde-og-bredde">Steg 1: Høyde og bredde</h1>
<p>Lag et nytt python-program med følgende kode:</p>
<pre><code class="language-python">HEIGHT = <span class="hljs-number">400</span>
WIDTH = <span class="hljs-number">600</span>
</code></pre>
<figure>Kjør programmet, og se hva som skjer. Du skal nå se et svart vindu som er 400
piksler høyt, og 600 piksler bredt.</figure>
<p>En <strong>piksel</strong> er et lyspunkt på skjermen og nøyaktig hvor stort dette
lyspunktet er avhenger av hvilken skjerm du har - dermed kan det være at
vinduet får ulik størrelse på andre datamaskiner enn din egen.</p>
</section>
<section class="activity" id="steg-2-lag-en-ball">
<h1 class="activity" id="steg-2-lag-en-ball">Steg 2: Lag en ball!</h1>
<p>Vi skal nå lage en ball som vi kan vise på skjermen. Vi begynner med å lage en
<code>Ball</code>-klasse, som har variablene <code>radius</code> og <code>color</code>, samt en posisjon
bestående av <code>x</code> og <code>y</code>.</p>
<pre><code class="language-python">COLORS = {
    <span class="hljs-string">'red'</span>: (<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
    <span class="hljs-string">'green'</span>: (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>),
    <span class="hljs-string">'blue'</span>: (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>),
    <span class="hljs-string">'white'</span>: (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>),
    <span class="hljs-string">'black'</span>: (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    radius =  <span class="hljs-number">20</span>
    color = COLORS[<span class="hljs-string">'red'</span>]
    x = WIDTH // <span class="hljs-number">2</span>
    y = HEIGHT // <span class="hljs-number">2</span>
</code></pre>
<p>Vi har her valgt å ha en rød ball, men du kan velge en annen farge fra
<code>COLORS</code>-ordboka om du vil det. Husk at <code>//</code> betyr 'heltallsdivisjon', dvs at
svaret rundes av nedover, slik at vi får et helt tall som svar.</p>
<p>Vi må i tillegg ha en funksjon som kan tegne ballen vår. Denne skal vi kalle
for <code>draw()</code>. Husk på at funksjonene som skal være en del av klassen må ha et
innrykk. Vi må dermed endre på klassen, slik at den ser slik ut:</p>
<pre><code class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    radius = <span class="hljs-number">20</span>
    color = COLORS[<span class="hljs-string">'red'</span>]
    x = WIDTH // <span class="hljs-number">2</span>
    y = HEIGHT // <span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">draw</span><span class="hljs-params">(self)</span>:</span>
        screen.draw.filled_circle((self.x, self.y), self.radius, self.color)

</code></pre>
<p>Nå må er du nesten ferdig. Vi må lage et <code>Ball</code>-objekt, <code>ball1</code> og en global
<code>draw</code>-funksjon. Dette vil se slik ut:</p>
<pre><code class="language-python">ball1 = Ball()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span>:</span>
    screen.clear()
    ball1.draw()
</code></pre>
<p><code>screen.clear()</code> sørger for at vi tegner på en blank skjerm, og må alltid komme
først i den globale funksjonen <code>draw()</code>.</p>
<section class="flag" id="test-programmet-ditt">
<h2 class="flag" id="test-programmet-ditt">Test programmet ditt</h2>
<figure>Du kan nå teste programmet ditt. Du skal få opp en ensfarget sirkel midt i
vinduet.</figure>
</section>
</section>
<section class="activity" id="steg-3-bevegelse">
<h1 class="activity" id="steg-3-bevegelse">Steg 3: Bevegelse</h1>
<p>Vi vil at ballen vår skal bevege seg. Hvordan skal vi få til dette? Vi lager
funksjonen <code>update()</code>.</p>
<p>Først må vi legge til et par variabler som bestemmer farten på ballen. Vi skal
her ha en variabel for farten i y-retning, og en variabel for farten i
x-retning.</p>
<pre><code class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    radius =  <span class="hljs-number">20</span>
    color = COLORS[<span class="hljs-string">'red'</span>]
    x = WIDTH // <span class="hljs-number">2</span>
    y = HEIGHT // <span class="hljs-number">2</span>
    speed_x = <span class="hljs-number">3</span>
    speed_y = <span class="hljs-number">3</span>
</code></pre>
<p>Så må vi lage en en funksjon <code>update()</code> som er en del av <code>Ball</code>. Denne sørger
for at ballen beveger seg <code>speed_x</code> piksler i x-retningen, og <code>speed_y</code> i
y-retningen.</p>
<pre><code class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
        self.x += self.speed_x
        self.y += self.speed_y
</code></pre>
<p>I tillegg må vi ha en global funksjon <code>update()</code> som kaller <code>ball1.update()</code>:</p>
<pre><code class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">()</span>:</span>
    ball1.update()
</code></pre>
<section class="flag" id="test-programmet-ditt-2">
<h2 class="flag" id="test-programmet-ditt-2">Test programmet ditt</h2>
<p>Du kan nå teste programmet ditt igjen. Ballen skal nå bevege seg, dersom alt er gjort riktig.</p>
<figure>Hva skjer når den kommer til kanten? I neste steg skal vi sørge for at ballen
ikke forsvinner ut av vinduet.</figure>
</section>
</section>
<section class="activity" id="steg-4-veggkollisjoner">
<h1 class="activity" id="steg-4-veggkollisjoner">Steg 4: Veggkollisjoner</h1>
<p>Vi ønsker å la ballen sprette tilbake når den treffer en vegg. Her er det et
par ting vi må tenke på - hvordan oppdager vi at ballen treffer veggen, og
hvordan kan vi endre variablene slik at den spretter vekk fra veggen? Ballens
posisjon bestemmes av <code>x</code> og <code>y</code> men den har også <code>radius</code> som vi må ta hensyn
til når vi skal oppdage om ballen treffer veggen. Når ballen treffer den
øverste eller den nederste veggen ønsker vi at farten reverseres i y-retning,
det samme gjelder for farten i x-retning når vi treffer høyre eller venstre
vegg.</p>
<p>Vi må endre <code>update()</code>-funksjonen i <code>Ball</code>-klassen:</p>
<pre><code class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
        self.x += self.speed_x
        self.y += self.speed_y

        <span class="hljs-comment"># sjekker for kollisjon i x-retning</span>
        <span class="hljs-keyword">if</span> self.x + self.radius &gt;= WIDTH <span class="hljs-keyword">or</span> self.x - self.radius &lt;= <span class="hljs-number">0</span>:
            self.speed_x = -self.speed_x

        <span class="hljs-comment"># sjekker for kollisjon i y-retning</span>
        <span class="hljs-keyword">if</span> self.y + self.radius &gt;= HEIGHT <span class="hljs-keyword">or</span> self.y - self.radius &lt;= <span class="hljs-number">0</span>:
            self.speed_y = -self.speed_y
</code></pre>
<section class="flag" id="test-programmet-ditt-3">
<h2 class="flag" id="test-programmet-ditt-3">Test programmet ditt</h2>
<figure>Kjør programmet ditt, og pass på at ballen spretter tilbake når den treffer en
av veggene.</figure>
</section>
</section>
<section class="activity" id="steg-5-styre-farta-til-ballen">
<h1 class="activity" id="steg-5-styre-farta-til-ballen">Steg 5: Styre farta til ballen</h1>
<p>Vi skal la brukeren styre farta til ballen ved hjelp av piltastene. Når
brukeren trykker på 'Pil opp' skal ballen gå raskere oppover (evt. mindre fort
nedover), det motsatte skal skje om brukeren trykker 'Pil ned'. Det samme skal
skje om brukeren trykker på 'Pil høyre' eller 'Pil venstre', men da skal
fartsendringa skje i x-retning.</p>
<p>For å få til dette skal vi lage en <code>on_key_down()</code>-funksjon i <code>Ball</code>-klassen:</p>
<pre><code class="language-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_key_down</span><span class="hljs-params">(self, key)</span>:</span>
        <span class="hljs-keyword">if</span> key == keys.LEFT:
            self.speed_x -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">elif</span> key == keys.RIGHT:
            self.speed_x += <span class="hljs-number">1</span>
        <span class="hljs-keyword">elif</span> key == keys.UP:
            self.speed_y -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">elif</span> key == keys.DOWN:
            self.speed_y += <span class="hljs-number">1</span>
</code></pre>
<p>Legg merke til at funksjonen har et parameter, <code>key</code>, som brukes til å avgjøre
hvilken tast brukeren trykket på.</p>
<p>Vi trenger også en global <code>on_key_down()</code>-funksjon. Denne har også en
<code>key</code>-parameter, som sendes videre til <code>ball1.on_key_down()</code>.</p>
<pre><code class="language-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_key_down</span><span class="hljs-params">(key)</span>:</span>
    ball1.on_key_down(key)
</code></pre>
<section class="flag" id="test-programmet-ditt-4">
<h2 class="flag" id="test-programmet-ditt-4">Test programmet ditt</h2>
<figure>Du skal nå ha en ball som spretter mellom vinduskantene, og du skal kunne styre
farten ved hjelp av piltastene.</figure>
</section>
<section class="challenge" id="utfordring-stopp-ballen">
<h2 class="challenge" id="utfordring-stopp-ballen">Utfordring: Stopp ballen</h2>
<p>Vi ønsker å bruke mellomromstasten for å stoppe ballen. Dvs. sette <code>speed_x</code> og
<code>speed_y</code> til <code>0</code>. Prøv å endre funksjonen <code>on_key_down(key)</code> i <code>Ball</code>-klassen
for å sjekke om brukeren har trykket på mellomromstasten.</p>
<p><strong>Hint:</strong> <code>key == keys.SPACE</code> vil være sant dersom brukeren trykker på
mellomromstasten.</p>
</section>
</section>
</div></div><div class="Footer__containerStudent__3Yr5f Footer__container__1SZrv container-fluid" data-reactid="72"><div class="Footer__center__3xqZ_ row" data-reactid="73"><a class="Footer__inline__1Q6ds" href="http://kidsakoder.no/" data-reactid="74">kidsakoder.no</a><a class="Footer__inline__1Q6ds" href="https://github.com/kodeklubben/kodeklubben.github.io/archive/master.zip" data-reactid="75">Last ned alle kurs som zip-fil</a></div><div class="Footer__center__3xqZ_ row" data-reactid="76"><a href="http://kidsakoder.no/2015/07/03/kodeklubben-trondheim-utvikler-materiell-i-sommer/" data-reactid="77"><img class="Footer__img__25Ink" src="/beta/src/assets/graphics/smn.41dee6.jpg" data-reactid="78"/></a><a href="http://kidsakoder.no/2015/07/03/kodeklubben-trondheim-utvikler-materiell-i-sommer/" data-reactid="79"><img class="Footer__img__25Ink" src="/beta/src/assets/graphics/ibok.7f1adf.jpg" data-reactid="80"/></a></div></div></div></div></div>
<script type="text/javascript" src="/beta/manifest.b058e9b8f878638dfef1.js"></script><script type="text/javascript" src="/beta/vendor.a6b03d2258d76438e766.js"></script><script type="text/javascript" src="/beta/main.fce3d2843ce1f2ebede3.js"></script><script type="text/javascript" src="/beta/vendor2.2ef91518eebdacd7585a.js"></script></body>
</html>
