<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Kodeklubben (server)</title>
    <style type="text/css">.App__container__vvzpy {
  margin-top: 125px; }
.NavBar__flagGroup__3f0i_ {
  display: flex;
  justify-content: flex-end;
  padding: 5px; }

.NavBar__flag__3cn9U {
  width: 30px;
  height: 20px;
  float: right;
  margin-left: 5px; }
.NavLink__linkBase__1m4Sm {
  text-decoration: none !important;
  font-size: 17pt; }

.NavLink__linkStudent__1zq2x {
  color: #265732; }

.NavLink__linkTeacher__25L85 {
  color: #215651; }
.ModeIndicator__modeIndicator__gvKNO {
  font-size: 1.2em;
  margin-top: -15px;
  text-align: right; }
.Lesson__container__133OS {
  max-width: 770px;
  margin-left: auto;
  margin-right: auto; }
.LevelIcon__small__KNlGu {
  margin-right: 4px;
  width: 15px;
  height: 15px;
  vertical-align: top; }

.LevelIcon__medium__3A_kn {
  margin-right: 5px;
  width: 25px;
  height: 25px;
  vertical-align: top; }

.LevelIcon__large__HKJS3 {
  margin-right: 10px;
  width: 35px;
  height: 35px;
  vertical-align: top; }
@import url(https://fonts.googleapis.com/css?family=Roboto:100,100italic,300,300italic,400,400italic,500,500italic,700,700italic,900,900italic);@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:100,100italic,300,300italic,400,400italic,500,500italic,700,700italic);.Footer__container__1SZrv {
  margin-top: 100px;
  padding-bottom: 20px;
  font-weight: 300;
  font-size: 15pt;
  font-family: "Roboto", "Verdana", sans-serif; }
  .Footer__container__1SZrv a {
    text-decoration: none; }

.Footer__containerStudent__3Yr5f {
  background-color: #b1daae;
  color: #265732; }
  .Footer__containerStudent__3Yr5f a {
    color: #265732; }

.Footer__containerTeacher__36KZb {
  background-color: #a3cccb;
  color: #215651; }
  .Footer__containerTeacher__36KZb a {
    color: #215651; }

.Footer__center__3xqZ_ {
  text-align: center; }

.Footer__inline__1Q6ds {
  display: inline-block;
  margin: 20px 10px; }

.Footer__svg__29r7H {
  width: 100px;
  height: auto;
  transition: all 0.075s ease-in-out; }

.Footer__img__25Ink {
  margin-left: 20px;
  margin-right: 20px;
  margin-bottom: 20px;
  width: auto;
  height: 50px;
  transition: all 0.075s ease-in-out; }

.Footer__divider__LJrti {
  margin-top: 20px;
  margin-left: auto;
  margin-right: auto;
  border-top: 1px solid;
  width: 50%; }

.Footer__svg__29r7H:hover,
.Footer__img__25Ink:hover {
  transform: scale(1.2); }
</style>
<meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#fff"><meta name="application-name" content="codeclub-viewer"><link rel="apple-touch-icon" sizes="57x57" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-icon-180x180.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="codeclub-viewer"><link rel="icon" type="image/png" sizes="32x32" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/favicon-32x32.png"><link rel="icon" type="image/png" sizes="192x192" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="16x16" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/favicon-16x16.png"><link rel="shortcut icon" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/favicon.ico"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-320x460.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-640x920.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-640x1096.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-750x1294.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-1182x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-1242x2148.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-748x1024.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-768x1004.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-1496x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/beta/icons-4d5e7ca061cb4e52c7ddfe82070782f8/apple-touch-startup-image-1536x2008.png"><link href="/beta/vendor2.9b2aa725e22ade101290.css" rel="stylesheet"></head>
<body>
    <div id="app"><div><div class="App__container__vvzpy" data-reactroot="" data-reactid="1" data-react-checksum="-1002421720"><div class="container-fluid" data-reactid="2"><div class="row" data-reactid="3"><nav class="navbar navbar-default navbar-fixed-top" data-reactid="4"><div class="container-fluid" data-reactid="5"><div class="btn-language-dropdown pull-right dropdown btn-group" data-reactid="6"><button class="dropdown-toggle btn-language-student btn-language btn btn-default" id="language-dropdown" role="button" aria-haspopup="true" aria-expanded="false" type="button" data-reactid="7"><span data-reactid="8"><!-- react-text: 9 -->Norsk bokmål<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="10"/></span></button><ul class="dropdown-menu" role="menu" aria-labelledby="language-dropdown" data-reactid="11"><li role="presentation" class="" data-reactid="12"><a role="menuitem" href="" tabindex="-1" data-reactid="13"><span data-reactid="14"><!-- react-text: 15 -->Norsk bokmål<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="16"/></span></a></li><li role="presentation" class="" data-reactid="17"><a role="menuitem" href="" tabindex="-1" data-reactid="18"><span data-reactid="19"><!-- react-text: 20 -->Norsk nynorsk<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/fa23ab63ff34db5c8c13b39f6e33821c.svg" data-reactid="21"/></span></a></li><li role="presentation" class="" data-reactid="22"><a role="menuitem" href="" tabindex="-1" data-reactid="23"><span data-reactid="24"><!-- react-text: 25 -->Svenska<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/1d1e495a49bf241ea4fa9bc056c0bffa.svg" data-reactid="26"/></span></a></li><li role="presentation" class="" data-reactid="27"><a role="menuitem" href="" tabindex="-1" data-reactid="28"><span data-reactid="29"><!-- react-text: 30 -->Dansk<!-- /react-text --><img class="NavBar__flag__3cn9U" src="/beta/4492aedc274ad1e87620f7f5a3cc3d71.svg" data-reactid="31"/></span></a></li></ul></div><div class="navbar-header" data-reactid="32"><span class="navbar-brand" data-reactid="33"><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm" href="/" data-reactid="34"><span class="glyphicon glyphicon-home" data-reactid="35"></span></a><span data-reactid="36"><!-- react-text: 37 --> / <!-- /react-text --><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm" href="/computercraft" data-reactid="38">computercraft</a></span><span class="hidden-xs" data-reactid="39"><!-- react-text: 40 --> / <!-- /react-text --><a class="NavLink__linkStudent__1zq2x NavLink__linkBase__1m4Sm active" href="/computercraft/fjernstyr_en_robot/fjernstyr_en_robot" data-reactid="41">fjernstyr en robot</a></span></span><button type="button" class="navbar-toggle collapsed" data-reactid="42"><span class="sr-only" data-reactid="43">Toggle navigation</span><span class="icon-bar" data-reactid="44"></span><span class="icon-bar" data-reactid="45"></span><span class="icon-bar" data-reactid="46"></span></button></div><div class="navbar-collapse collapse" data-reactid="47"><div class="navbar-form navbar-right" data-reactid="48"><div class="form-group" data-reactid="49"><input type="text" placeholder="Søk" class="form-control" data-reactid="50"/></div><!-- react-text: 51 --> <!-- /react-text --><div class="btn-toggle" data-reactid="52"><div data-reactid="53">Velg modus:</div><div class="btn-group btn-group" data-reactid="54"><button class="btn-student-nav active btn btn-default" type="button" data-reactid="55">ELEV</button><button class="btn-teacher-nav btn btn-default" type="button" data-reactid="56">LÆRER</button></div></div></div></div></div></nav></div><div class="row" data-reactid="57"><div class="col-xs-12" data-reactid="58"><div class="ModeIndicator__modeIndicator__gvKNO" data-reactid="59"><!-- react-text: 60 -->Du er i <!-- /react-text --><span class="text-student" data-reactid="61">elevmodus</span></div></div></div></div><div class="Lesson__container__133OS" data-reactid="62"><h1 data-reactid="63"><img class="LevelIcon__large__HKJS3" src="/beta/cac5f0e8fbd4fd42c7e76f66686d78e8.svg" data-reactid="64"/><!-- react-text: 65 -->Fjernstyr en robot<!-- /react-text --><!-- react-text: 66 --> - Level <!-- /react-text --><!-- react-text: 67 -->3<!-- /react-text --></h1><p data-reactid="68"><i data-reactid="69"><!-- react-text: 70 -->av <!-- /react-text --><!-- react-text: 71 -->Teodor Heggelund<!-- /react-text --></i></p><div data-reactid="72"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>I denne oppgaven skal vi fjernstyre en robot fra en annen datamaskin. Til dette
får vi bruk for både å hente tastetrykk fra brukeren, sende disse til en annen
datamaskin, og tolke disse som en kommando. For avanserte ComputerCraft-ere!</p>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/fjernstyring.ca6c7e.png" alt="" /></figure>
</section>
<section class="activity" id="steg-1-forberedelser">
<h1 class="activity" id="steg-1-forberedelser">Steg 1: Forberedelser</h1>
<p>Denne oppgaven bygger videre på andre oppgaver:</p>
<ul>
<li><a href="../nettverk_send_beskjed/nettverk_send_beskjed.html">Send en beskjed over nettverk</a> beskriver hvordan vi sender og mottar meldinger over <code>rednet</code>.</li>
<li><a href="../hendelser/hendelser.html#steg-1-skattejakt">Hendelser -- Steg 1: Skattejakt</a> viser hvordan vi kan gjenkjenne hvilken tast brukeren har trykket på.</li>
<li><a href="../bygg_et_hus/bygg_et_hus.html#steg-4-funksjoner">Bygg et Hus -- Steg 4: Funksjoner</a> forklarer hvordan vi kan skrive egne funksjoner.</li>
</ul>
<p>Gå tilbake og kikk på disse to oppgavene hvis denne blir vanskelig.</p>
<section class="tip" id="redigere-filer-utenfor-computercraft">
<h2 class="tip" id="redigere-filer-utenfor-computercraft">Redigere filer utenfor ComputerCraft</h2>
<p><code>edit</code>-programmet i ComputerCraft fungerer fint med små programmer, men blir
tungvindt for store programmer. Det er for eksempel ikke lett å klippe og
lime kode. Nå skal vi lære hvordan vi redigerer ComputerCraft-filer <em>utenfor</em>
ComputerCraft.</p>
<figure>Filene vi lager i ComputerCraft har forskjellig plassering på forskjellige
operativsystemer:</figure>
<ul>
<li>Windows: <code>%AppData%\Roaming\.minecraft\saves\navn-på-din-save\computer\id</code></li>
<li>Linux: <code>~/.minecraft/saves/navn-på-din-save/computer/id</code></li>
<li>Mac: <code>~/Library/Application Support/.minecraft/saves/navn-på-din-save/computer/id</code></li>
</ul>
<p>Vil du redigere filen <code>hello</code> fra spillet &quot;Kodeklubben 2016&quot; på datamskin #3 på
Windows finner du den altså på <code>AppData\Roaming\.minecraft\saves\Kodeklubben 2016\computer\3\hello</code>.</p>
</section>
<section id="finn-filene-pa-mac">
<h2 id="finn-filene-pa-mac">Finn filene på Mac</h2>
<p>For å åpne filene på Mac kan du bruke Finder:</p>
<ul>
<li>Åpne Finder fra menyen</li>
</ul>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/finder.289e20.png" alt="Finn Finder i menyen" /></figure>
<ul>
<li>Trykk på <code>Gå</code> og så <code>Gå til mappe</code></li>
</ul>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/gaatilmappe.8e939c.png" alt="Gå til mappe" /></figure>
<ul>
<li>Skriv inn filplasseringen (<code>~/Library/Application Support/.minecraft/saves/navn-på-din-save/computer/id</code>)</li>
</ul>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/gaatilmappedialog.356fcc.png" alt="Skriv inn filplasseringen" /></figure>
<figure>Her finnes programmene du har skrevet som egne filer. Åpne så programmet ditt
i en egen teksteditor:</figure>
<ul>
<li>
<p><a href="https://notepad-plus-plus.org/">Notepad++</a> er god og enkel. Støtter Windows.</p>
</li>
<li>
<p><a href="https://atom.io/">Github Atom</a> er noe mer avansert. Støtter Windows, Mac og
Linux.</p>
<p>Atom har en egen pakke for Lua-programmering. For å installere denne, gå til
<code>Edit -&gt; Preferences -&gt; Install</code>, søk etter <code>lua</code> og installer pakken
<code>language-lua</code>.</p>
</li>
</ul>
<figure>Gratulerer! Du kan nå klippe og lime kode mellom datamskiner. Eller vil du
flytte et prgram til en ny save?</figure>
</section>
<section class="tip" id="skriv-koden-selv">
<h2 class="tip" id="skriv-koden-selv">Skriv koden selv!</h2>
<p>Skriv koden du leser nå selv!</p>
<p>Du blir ikke vant med et programmeringsspråk uten å skrive kode selv. Når jeg
leser en guide på internett, bruker jeg ikke klipp-og-lim. I stedet leser jeg
et stykke kode, og skriver selv. Da leser jeg den grundigere, og får med meg
hvor det skal være kommaer, <code>end</code>, <code>then</code> og andre småting som Lua kan klage
på.</p>
<p>Og etter du har skrevet koden -- prøv litt fram og tilbake!</p>
<ul>
<li>Trenger jeg egentlig denne biten?</li>
<li>Hva skjer om jeg fjerner denne setningen?</li>
<li>Eller om jeg putter inn et annet tall her?</li>
</ul>
<p>Programmering er lek! Ikke la noen fortelle deg noe annet!</p>
</section>
</section>
<section class="activity" id="steg-2-tastetrykk-pa-fjernkontroll">
<h1 class="activity" id="steg-2-tastetrykk-pa-fjernkontroll">Steg 2: Tastetrykk på fjernkontroll</h1>
<figure>Først programmerer vi kommandosentralen vår! Den må lytte etter tastetrykk,
oversette disse til kommandoer og sende til roboten.</figure>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul>
<li>Vi bygger først kontroller. Craft en <strong>Advanced Wireless Pocket Computer</strong>.
Denne kan vi bruke mens vi går rundt, og er ikke bundet til én plass.</li>
</ul>
</section>
<section class="tip" id="filtyper">
<h2 class="tip" id="filtyper">Filtyper</h2>
<p>Filer har ofte etternavn som sier filtypen.</p>
<ul>
<li>
<p>Lua programmer heter ofte <code>program.lua</code></p>
</li>
<li>
<figure>Nettsider heter ofte <code>nettside.html</code>: Nettsider skrives i et språk som heter HTML</figure>
</li>
<li>
<p><code>dokument.docx</code> er et Word-dokument</p>
</li>
<li>
<p>Kjenner du til andre filtyper?</p>
</li>
</ul>
</section>
<section class="check" id="sjekkliste-2">
<h2 class="check" id="sjekkliste-2">Sjekkliste</h2>
<ul>
<li>
<p>Vi kaller kontroller-programmet vårt <code>remote.lua</code></p>
<pre><code>edit remote<span class="hljs-class">.lua</span>
</code></pre>
</li>
<li>
<p>La oss starte med å lese inn hva brukeren trykker på:</p>
<pre><code class="language-lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remoteMove</span><span class="hljs-params">()</span></span>
  <span class="hljs-keyword">local</span> action, keycode = <span class="hljs-built_in">os</span>.pullEvent(<span class="hljs-string">'key'</span>)
  <span class="hljs-keyword">if</span> keycode == keys.w <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"Go"</span>, <span class="hljs-string">"forward!"</span>}
  <span class="hljs-keyword">elseif</span> keycode == keys.a <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"Denne"</span>, <span class="hljs-string">"må"</span>, <span class="hljs-string">"du"</span>, <span class="hljs-string">"fikse"</span>, <span class="hljs-string">"selv!"</span>}
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"Hjelp! Ukjent tast! Hva skal jeg gjøre???"</span>}
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">(  )</span></span>
  <span class="hljs-built_in">print</span>(<span class="hljs-string">"Venter på kommando ..."</span>)
  rednet.open(<span class="hljs-string">"back"</span>)  <span class="hljs-comment">-- Hvor har du modemet ditt?</span>
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">true</span> <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">local</span> command = remoteMove()
    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">unpack</span>(command))
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

main()
</code></pre>
</li>
<li>
<figure>Prøv! Hva skjer når du trykker på <code>w</code>? Hva skjer når du trykker på noe annet?</figure>
</li>
<li>
<p>Roboten vår skal gjerne kunne svinge og gå bakover i tillegg. Legg til
if-setninger dersom brukeren trykker på <code>a</code>, <code>s</code> eller <code>d</code>!</p>
</li>
<li>
<p>Roboten kan i tillegg fly opp og ned. I Minecraft brukes <code>space</code> for å fly
opp, og <code>shift</code> for å fly ned. Sjekk <a href="http://www.computercraft.info/wiki/Keys_%28API%29">ComputerCraft Wiki</a> for hvordan du bruker
disse!</p>
</li>
</ul>
<figure>Nå kjenner vi igjen tastene for å bevege seg rundt. Neste steg er å sende disse
til roboten som skal bevege på seg.</figure>
</section>
</section>
<section class="activity" id="steg-3-kommandotabell">
<h1 class="activity" id="steg-3-kommandotabell">Steg 3: Kommandotabell</h1>
<p>Vi skal bruke en tabell til å lagre kommandoen vår. Lua kaller en tabell for
<code>table</code>, tabell på engelsk.</p>
<p>La oss først leke oss litt med en robot.</p>
<section class="check" id="sjekkliste-3">
<h2 class="check" id="sjekkliste-3">Sjekkliste</h2>
<ul>
<li>
<p>Pass på at roboten har nok kull!</p>
</li>
<li>
<p>Åpne lua-tolkeren, og lag en tabell:</p>
<pre><code>&gt; lua
lua&gt; tabell = {<span class="hljs-string">"hei"</span>, <span class="hljs-string">"på"</span>, <span class="hljs-string">"deg"</span>}
lua&gt; <span class="hljs-built_in">print</span>(tabell)
lua&gt; <span class="hljs-built_in">print</span>(<span class="hljs-built_in">unpack</span>(tabell))
lua&gt; <span class="hljs-built_in">print</span>(tabell[<span class="hljs-number">1</span>])
lua&gt; <span class="hljs-built_in">print</span>(tabell[<span class="hljs-number">2</span>])
lua&gt; <span class="hljs-built_in">print</span>(tabell[<span class="hljs-number">3</span>])
</code></pre>
</li>
</ul>
</section>
<section class="tip" id="tabeller">
<h2 class="tip" id="tabeller">Tabeller</h2>
<ul>
<li>
<p>Prøver vi skrive ut en tabell alene, får vi <em>adressen</em> til tabellen</p>
</li>
<li>
<p>Unpack lar oss bruke tabellen i en funksjon:</p>
<p><code>print(unpack({1, 2}))</code> er det samme som <code>print(1, 2)</code>.</p>
</li>
<li>
<p>Vil vi ha ut et <em>element</em> fra tabellen, setter vi inn <em>indeksen</em> til
elementet med firkantklammer: <code>tabell[2]</code>.</p>
</li>
</ul>
</section>
<section class="check" id="sjekkliste-4">
<h2 class="check" id="sjekkliste-4">Sjekkliste</h2>
<p>Nå skal vi se på to måter å styre en robot på.</p>
<ul>
<li>
<figure>Start <code>CraftOS</code> på en robot, og kjør først kommandoen på &quot;vanlig&quot; vis:</figure>
<pre><code><span class="hljs-blockquote">&gt; go forward 5</span>
<span class="hljs-blockquote">&gt; turn left</span>
</code></pre>
</li>
</ul>
<figure>... men vi vil da ikke løpe etter roboten og skrive inn nye kommandoer dagen
lang! La oss programmere dette.</figure>
<ul>
<li>
<p>Åpne lua-tolkeren og lag tabeller for kommandoene over:</p>
<pre><code class="language-lua">&gt; lua
lua&gt; command1 = {<span class="hljs-string">"go"</span>, <span class="hljs-string">"forward"</span>, <span class="hljs-string">"5"</span>}
lua&gt; command2 = {<span class="hljs-string">"turn"</span>, <span class="hljs-string">"left"</span>}
lua&gt; shell.run(<span class="hljs-built_in">unpack</span>(command1))  <span class="hljs-comment">-- Hva gjør unpack? Kan du gjøre dette på noen annen måte?</span>
lua&gt; shell.run(<span class="hljs-built_in">unpack</span>(command2))
</code></pre>
</li>
<li>
<p>Hva gjør unpack? Hvordan kan vi bruke <code>shell.run()</code> til å gå frem <em>uten</em>
<code>unpack()</code>?</p>
</li>
</ul>
</section>
<section class="try" id="nott">
<h2 class="try" id="nott">Nøtt</h2>
<ul>
<li>
<p>Åpne et nytt program: <code>edit many.lua</code> (Du kan bruke en annen editor hvis du
vil)</p>
<pre><code class="language-lua">cmd = {<span class="hljs-string">"go"</span>, <span class="hljs-string">"forward"</span>, <span class="hljs-string">"5"</span>}
</code></pre>
</li>
<li>
<figure>Kan du lage en funksjon som kjører kommandoen <code>cmd</code> 2 ganger?</figure>
</li>
<li>
<p>Ekstra vanskelig: kan du lage en funksjon som kjører kommandoen i en tabell
<code>n</code> ganger, der n sendes inn i funksjonen?</p>
<p>Du kan starte med dette:</p>
<pre><code class="language-lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">manyTimes</span><span class="hljs-params">( command, times )</span></span>
  <span class="hljs-keyword">for</span> i=<span class="hljs-number">1</span>,times <span class="hljs-keyword">do</span>
    <span class="hljs-comment">-- Hva skal du gjøre mange ganger?</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

command1 = {<span class="hljs-string">"go forward 5"</span>}

manyTimes(command1, <span class="hljs-number">7</span>)
</code></pre>
</li>
</ul>
</section>
<section class="check" id="sjekkliste-5">
<h2 class="check" id="sjekkliste-5">Sjekkliste</h2>
<p>Nå skal vi endre på koden på fjernkontrollen vår så den faktisk sender
kommandoer til roboten. Hva er forskjellig fra koden over? Forklar til en annen
programmerer eller voksen! Hva gjør programmet nå forskjellig?</p>
<ul>
<li>
<figure>Åpne igjen filen <code>remote.lua</code> på kontrolleren</figure>
</li>
<li>
<p>Endre koden til:</p>
<pre><code class="language-lua">workerId = <span class="hljs-number">5</span>  <span class="hljs-comment">-- Hvilket nummer er din robot? Hvordan finner du nummeret?</span>

<span class="hljs-comment">-- OBS: Ny fuksjon som inneholder deler av gamle remoteMove!</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toMoveCommand</span><span class="hljs-params">(keycode)</span></span>
  <span class="hljs-keyword">if</span> keycode == keys.w <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"go"</span>, <span class="hljs-string">"forward"</span>}  <span class="hljs-comment">-- OBS! Nå må disse matche kommandoer!</span>
  <span class="hljs-keyword">elseif</span> keycode == keys.a <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"Denne"</span>, <span class="hljs-string">"må"</span>, <span class="hljs-string">"du"</span>, <span class="hljs-string">"fikse"</span>, <span class="hljs-string">"selv!"</span>}
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">nil</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">-- ... og nye remoteMove sender nå kommandoen dit den skal!</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remoteMove</span><span class="hljs-params">()</span></span>
  <span class="hljs-keyword">local</span> action, keycode = <span class="hljs-built_in">os</span>.pullEvent(<span class="hljs-string">'key'</span>)
  command = toMoveCommand(keycode)
  <span class="hljs-keyword">if</span> command == <span class="hljs-keyword">nil</span> <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Unknown key: "</span> .. keycode)
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Sending "</span>.. <span class="hljs-built_in">unpack</span>(command))
    rednet.send(workerId, command)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">-- Denne er endret litt</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">(  )</span></span>
  <span class="hljs-built_in">print</span>(<span class="hljs-string">"Listening for move commands ..."</span>)
  rednet.open(<span class="hljs-string">"back"</span>)
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">true</span> <span class="hljs-keyword">do</span>
  <span class="hljs-comment">-- Her skal vi ikke lenger skrive ut, men flytte på roboten</span>
    remoteMove()
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

main()
</code></pre>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-4-motta-kommando-pa-robot">
<h1 class="activity" id="steg-4-motta-kommando-pa-robot">Steg 4: Motta kommando på robot</h1>
<p>Gratulerer! Du har nå bygd en fjernkontroll!</p>
<p>Hva skal vi bruke denne til, mon tro?</p>
<p>Noe å styre?</p>
<p>Jepp, jeg er helt enig. La oss gjøre det!</p>
<section class="check" id="sjekkliste-6">
<h2 class="check" id="sjekkliste-6">Sjekkliste</h2>
<ul>
<li>Åpne <code>react.lua</code> på roboten</li>
</ul>
</section>
<section class="tip" id="egne-filer">
<h2 class="tip" id="egne-filer">Egne filer</h2>
<ul>
<li>
<figure>Husker du hvordan vi finner filene på vår egen datamaskin, så vi kan bruke
Notepad++ eller Atom? Se over!</figure>
</li>
<li>
<figure>Hvis datamaskinen ikke har noen filer ennå, har den heller ikke noen mappe.
Lag en tom fil i CraftOS for å få mappen til å dukke opp!</figure>
</li>
</ul>
</section>
<section class="check" id="sjekkliste-7">
<h2 class="check" id="sjekkliste-7">Sjekkliste</h2>
<ul>
<li>
<p>Fyll så på med koden!</p>
<pre><code class="language-lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>
  <span class="hljs-comment">-- Hva sier pheripherals? Hvilken side er modemet på?</span>
  rednet.open(<span class="hljs-string">"left"</span>)
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">true</span> <span class="hljs-keyword">do</span>
    sender, message = rednet.receive(<span class="hljs-number">99999</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Message from "</span> .. sender .. <span class="hljs-string">" received: "</span>)
    <span class="hljs-built_in">print</span>(message)
    shell.run(<span class="hljs-built_in">unpack</span>(message))
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

main()
</code></pre>
</li>
</ul>
</section>
<section class="tip" id="">
<h2 class="tip" id=""><code>main()</code></h2>
<p>Metoden <code>main()</code> er ofte inngangsporten til et program. I for eksempel Lua og
Python kan vi velge selv om vi vil ha en main-metode eller ikke. I andre språk
må main være med. Eksempler på programmeringsspråk vi <em>må</em> ha main i er C,
Java og Haskell.</p>
</section>
<section class="check" id="sjekkliste-8">
<h2 class="check" id="sjekkliste-8">Sjekkliste</h2>
<ul>
<li>
<p>Hva brukes 99999 til?</p>
</li>
<li>
<figure>Hvorfor bruker vi en <code>while</code>-løkke? Hva skjer om vi ikke har en while-løkke?</figure>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-5-kjor-robot">
<h1 class="activity" id="steg-5-kjor-robot">Steg 5: Kjør robot!</h1>
<p>Gratulerer! Du har gjennomført en utfordrende programmeringsoppgave, og sendt
meningsfulle beskjeder over <code>rednet</code>! Vær stolt!</p>
<p>Nå skal vi prøve det selv!</p>
<section class="check" id="sjekkliste-9">
<h2 class="check" id="sjekkliste-9">Sjekkliste</h2>
<ul>
<li>
<figure>Start <code>react.lua</code> på din robot</figure>
</li>
<li>
<figure>Start <code>remote.lua</code> på din Portable Computer</figure>
</li>
<li>
<figure>Trykk <code>w</code> for å gå fremover!</figure>
</li>
<li>
<p>Legg til andre kommandoer du savner!</p>
<p>Forslag:</p>
<ul>
<li>Angrip</li>
<li>Bygg blokk foran</li>
<li>Kjør <code>excavate 4</code> her du er</li>
</ul>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-6-du-vil-ha-mer">
<h1 class="activity" id="steg-6-du-vil-ha-mer">Steg 6: Du vil ha mer?</h1>
<p>Du har spilt ComputerCraft <em>lenge</em> og begynner å få et utall forskjellige
roboter du må styre. Da er det kjekt å kunne kjøre andre kommandoer på roboten!</p>
<p>Programmet vi har skrevet for å motta og kjøre kommandoer, <code>react.lua</code> kan
kjøre andre kommandoer enn de vi har definert for å bevege seg rundt, for
eksempel <code>excavate</code> og <code>dance</code>.</p>
<ul>
<li>
<p>Åpne kontrolleren</p>
</li>
<li>
<figure>Endre følgende i <code>ssh.lua</code>:</figure>
<pre><code class="language-lua"><span class="hljs-comment">-- Starter jeg programmet sånn:</span>
<span class="hljs-comment">-- &gt; ssh.lua 5</span>
arguments = ...
<span class="hljs-comment">-- ... blir arguments = "5"</span>
remoteId = <span class="hljs-built_in">tonumber</span>(arguments)
<span class="hljs-comment">-- ... og remoteId = 5!</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pack</span><span class="hljs-params">(...)</span></span>
  <span class="hljs-keyword">return</span> arg
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remoteCommand</span><span class="hljs-params">()</span></span>
  <span class="hljs-built_in">io</span>.write(<span class="hljs-string">"ssh@"</span> .. remoteId .. <span class="hljs-string">"&gt; "</span>)
  <span class="hljs-keyword">local</span> intputString = <span class="hljs-built_in">io</span>.read()
  <span class="hljs-keyword">local</span> commandTable = pack(intputString)
  <span class="hljs-built_in">print</span>(<span class="hljs-string">"Sending: "</span>)
  <span class="hljs-built_in">print</span>(<span class="hljs-built_in">unpack</span>(commandTable))
  rednet.send(remoteId, commandTable)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span><span class="hljs-params">(  )</span></span>
  <span class="hljs-built_in">print</span>(<span class="hljs-string">"Listening for move commands ..."</span>)
  rednet.open(<span class="hljs-string">"back"</span>)
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">true</span> <span class="hljs-keyword">do</span>
    remoteCommand()
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

main()
</code></pre>
</li>
<li>
<figure>Start <code>react.lua</code> på roboten</figure>
</li>
<li>
<figure>Start <code>ssh.lua</code> på kontrolleren</figure>
</li>
</ul>
<figure>Fjernstyrt graverobot er nyttig! En graverobot kan craftes fra en annen turtle
med pickaxe på ledig side. Dette er hva min gjorde:</figure>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/ssh_1.1db4e6.png" alt="" />
Graveroboten er klar til høyre i bildet.</figure>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/ssh_2.294ddb.png" alt="" />
Flytter den til der den skal begynne å grave ...</figure>
<figure><img src="/beta/_/oppgaver/src/computercraft/fjernstyr_en_robot/ssh_3.f40c03.png" alt="" />
... Og der har den kommet et stykke på vei!</figure>
</section>
</div></div><div class="Footer__containerStudent__3Yr5f Footer__container__1SZrv container-fluid" data-reactid="73"><div class="Footer__center__3xqZ_ row" data-reactid="74"><a class="Footer__inline__1Q6ds" href="http://kidsakoder.no/" data-reactid="75">kidsakoder.no</a><a class="Footer__inline__1Q6ds" href="https://github.com/kodeklubben/kodeklubben.github.io/archive/master.zip" data-reactid="76">Last ned alle kurs som zip-fil</a></div><div class="Footer__center__3xqZ_ row" data-reactid="77"><a href="http://kidsakoder.no/2015/07/03/kodeklubben-trondheim-utvikler-materiell-i-sommer/" data-reactid="78"><img class="Footer__img__25Ink" src="/beta/src/assets/graphics/smn.41dee6.jpg" data-reactid="79"/></a><a href="http://kidsakoder.no/2015/07/03/kodeklubben-trondheim-utvikler-materiell-i-sommer/" data-reactid="80"><img class="Footer__img__25Ink" src="/beta/src/assets/graphics/ibok.7f1adf.jpg" data-reactid="81"/></a></div></div></div></div></div>
<script type="text/javascript" src="/beta/manifest.cc88f78a0c0bf1a7fe4c.js"></script><script type="text/javascript" src="/beta/vendor.80564a629b906f18bc40.js"></script><script type="text/javascript" src="/beta/main.bd1ff92ac496f5a74eb8.js"></script><script type="text/javascript" src="/beta/vendor2.9b2aa725e22ade101290.js"></script></body>
</html>
